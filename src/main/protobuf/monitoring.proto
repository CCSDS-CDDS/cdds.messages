syntax = "proto3";

package ccsds.cdds;

import "types.proto";

/**
 * A monitoring message can deliver lists of GenericMonitoringParameter and
 * FunctionalResourceParameter.
 */
message MonitoringMessage {
 
  /**
   * The production state of the CDDS Monitoring Service Provider.
   */
  ProductionState productionState = 1;

  /**
   * A Monitoring Message can carry generic monitoring parameters.
   */
  repeated GenericMonitoringParameter genericMonitoringParameters = 2;

  /**
   * A Monitoring Message can carry Functional Resource Parameters. 
   */
  repeated FunctionalResourceParameter functionalResourceParameters = 3;
}

/**
 * Generic Monitoring Parameters reports any sort of generic
 * monitoring parameter. Generic monitoring parameters have to be 
 * defined and agreed between the CDDS Provider and the CDDS User.
 */
message GenericMonitoringParameter {

  /**
   * A unique identifier of the monitoring parameter.
   * The identifier has to be unique within the provided monitoring service.
   */
  string identifier = 1;

  /**
   * The times stamp when the monitoring parameter was generated.
   */
  DateTime timeStamp = 2;

  /**
   * The value of the monitoring parameter.
   * The value is qualified to indicate if the value is valid
   * and has an alarm associated to it.
   */
  QualifiedValue qualifiedValue = 3;
}


/**
 * Functional Resource Parameters reports parameters of Functional Resources.
 * Functional Resources follow either SANA registered Functional Resource definitions
 * or private Functional Resource definitions.
 */
message FunctionalResourceParameter {

  /**
   * The Object Identifier of the Functional Resource Parameter.
   */
  ObjectIdentifier functionalResourceParameterIdentifier = 1;

  /**
   * The instance number of the Functional Resource
   * for which the parameter is reported for.
   */
  uint64 functionalResourceInstance = 2;

  /**
   * The times stamp when the monitoring parameter was generated.
   */  
  DateTime timeStamp = 3;

  /**
   * The value of the of the functional resource parameter is encoded again
   * as a protobuf type. Such a protobuf specification is external to this
   * specification.
   */
  EncodedQualifiedValue parameterValue = 4;

}